{% extends 'partials/AdminPanelBase.html' %} 

{% block content %}

<style>
    .btn {
        background-color: #999999;
    }
    .btn:hover {
        background-color: #ffc400;
        cursor: pointer;
    }
    .incomplete-profile {
        background-color: #f8d7da;
        color: #721c24;
        padding: 15px;
        border-radius: 5px;
        margin-bottom: 20px;
    }
    .complete-profile-button {
        background-color: #ffc400;
        color: #000;
        border: none;
        padding: 10px 20px;
        border-radius: 5px;
        text-decoration: none;
        font-weight: bold;
    }
    .complete-profile-button:hover {
        background-color: #ffa700;
        color: #000;
    }
</style>

<main class="content">
    <div class="container-fluid p-0">

        <h1 class="h3 mb-3"><strong>Analytics</strong> Dashboard</h1>

        <div class="row">
            <div class="col-lg-12">
                <div class="w-100">
                    <div class="row">
                        <div class="col-sm-4">
                            <div class="card">
                                <div class="card-body">
                                    <div class="row">
                                        <div class="col mt-0">
                                            <h5 class="card-title">Revenue</h5>
                                        </div>
                                        <div class="col-auto">
                                            <div class="stat text-primary">
                                                <i class="fas fa-dollar-sign"></i>
                                            </div>
                                        </div>
                                    </div>
                                    <h1 class="mt-1 mb-3">${{ revenue.total_revenue|floatformat:2}}</h1>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-4">
                            <div class="card">
                                <div class="card-body">
                                    <div class="row">
                                        <div class="col mt-0">
                                            <h5 class="card-title">Monthly Earning</h5>
                                        </div>
                                        <div class="col-auto">
                                            <div class="stat text-primary">
                                                <i class="fas fa-coins"></i>
                                            </div>
                                        </div>
                                    </div>
                                    <h1 class="mt-1 mb-3">${{ monthly_revenue.price|floatformat:2 }}</h1>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-4">
                            <div class="card">
                                <div class="card-body">
                                    <div class="row">
                                        <div class="col mt-0">
                                            <h5 class="card-title">Total Vendors</h5>
                                        </div>
                                        <div class="col-auto">
                                            <div class="stat text-primary">
                                                <i class="fas fa-users"></i>
                                            </div>
                                        </div>
                                    </div>
                                    <h1 class="mt-1 mb-3">{{ all_vendors.count }}</h1>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-sm-6">
                            <div class="card">
                                <div class="card-body">
                                    <div class="row">
                                        <div class="col mt-0">
                                            <h5 class="card-title">Products</h5>
                                        </div>
                                        <div class="col-auto">
                                            <div class="stat text-primary">
                                                <i class="align-middle" data-feather="dollar-sign"></i>
                                            </div>
                                        </div>
                                    </div>
                                    <h1 class="mt-1 mb-3">{{ all_products.count }}</h1>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-6">
                            <div class="card">
                                <div class="card-body">
                                    <div class="row">
                                        <div class="col mt-0">
                                            <h5 class="card-title">Orders</h5>
                                        </div>
                                        <div class="col-auto">
                                            <div class="stat text-primary">
                                                <i class="align-middle" data-feather="shopping-cart"></i>
                                            </div>
                                        </div>
                                    </div>
                                    <h1 class="mt-1 mb-3">{{ total_orders_count.count }}</h1>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-12">
                <div class="card flex-fill">
                    <div class="card-header">
                        <h5 class="card-title mb-0">Recent Orders</h5>
                    </div>
                    <div class="table-responsive">
                        <table class="table table-hover my-0">
                            <thead>
                                <tr>
                                    <th>Order ID</th>
                                    <th class="d-none d-xl-table-cell">Billing Name</th>
                                    <th class="d-none d-xl-table-cell">Date</th>
                                    <th>Total</th>
                                    <th class="d-none d-md-table-cell">Payment Status</th>
                                    <th class="d-none d-md-table-cell">View Details</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for l in latest_orders %}
                                <tr>
                                    <td>#{{ l.sku }}</td>
                                    <td class="d-none d-xl-table-cell">{{ l.full_name }}</td>
                                    <td class="d-none d-xl-table-cell">{{ l.order_date }}</td>
                                    <td class="d-none d-md-table-cell">${{ l.price }}</td>
                                    {% if l.paid_status == True %}
                                    <td><span class="badge bg-success">Paid</span></td>
                                    {% else %}
                                    <td><span class="badge bg-danger">Not Paid</span></td>
                                    {% endif %}
                                    <td><a href="{% url 'single_order_detail' l.id %}" class="btn"><span>View</span></a>
                                    </td>
                                </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

    </div>
</main>
{% endblock content %}