{% extends 'partials/AdminPanelBase.html' %}
{% load static %}

{% block content %}
<style>
    .vendor-card {
        background: #fff;
        border-radius: 10px;
        padding: 20px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }
    .vendor-image {
        border-radius: 50%;
        width: 120px;
        height: 120px;
        object-fit: cover;
    }
    .id-image {
        border-radius: 10px;
        width: 120px;
        height: 120px;
        object-fit: cover;
    }
</style>

<main class="content">
    <div class="container-fluid p-0">
        <h1 class="h3 mb-3">Vendor Details</h1>
        
        <!-- Debug: Vendor VID: {{ vendor.vid|default:"No VID" }} -->
        <div class="row mb-3">
            <!-- Back Button -->
            <div class="col-12">
                <a href="{% url 'vendor_list' %}" class="btn btn-secondary mb-3">Back to Vendor List</a>
            </div>
            <!-- Revenue Card -->
            <div class="col-md-4">
                <div class="vendor-card text-center">
                    <h5>Total Revenue</h5>
                    <h3 class="text-success">$ {{ total_revenue|floatformat:2 }}</h3>
                </div>
            </div>
        </div>
        
        <div class="row">
            <div class="col-lg-4">
                <div class="vendor-card text-center">
                    {% if vendor.image %}
                        <img src="{{ vendor.image.url }}" class="vendor-image mb-3" alt="Vendor Image">
                    {% else %}
                        <img src="{% static 'images/default_vendor.png' %}" class="vendor-image mb-3" alt="Default Vendor Image">
                    {% endif %}
                    <h4>{{ vendor.user.username|default:"No User" }}</h4>
                    <p class="text-muted">Vendor ID: {{ vendor.vid|default:"N/A" }}</p>
                    <p class="text-muted">Joined on {{ vendor.joined_date|date:"d M, Y"|default:"Not Available" }}</p>
                </div>
            </div>
            <div class="col-lg-8">
                <div class="vendor-card">
                    <h5>Contact Information</h5>
                    <p><strong>Email:</strong> {{ vendor.email|default:"No Email" }}</p>
                    <p><strong>Phone:</strong> {{ vendor.contact|default:"No Contact" }}</p>
                    <p><strong>Address:</strong> {{ vendor.address|default:"No Address" }}</p>
                    <hr>
                    <h5>Additional Information</h5>
                    <p><strong>Description:</strong> {{ vendor.description|default:"No description provided" }}</p>
                    <p><strong>ID Image:</strong>
                        {% if vendor.id_image %}
                            <img src="{{ vendor.id_image.url }}" class="id-image" alt="ID Image">
                        {% else %}
                            No ID image uploaded
                        {% endif %}
                    </p>
                </div>
            </div>
        </div>
    </div>
</main>
{% endblock %}